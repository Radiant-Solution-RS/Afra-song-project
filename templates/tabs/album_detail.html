{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">

<div class="album-container">
  <div class="album-wrapper">
    <div class="album-card-detail">
      <div class="album-grid">
        
        <!-- Album Image -->
       <div class="album-image-detail">
          {% if album.album_img %}
            <img src="{{ album.album_img }}" alt="{{ album.title }} album art" onerror="this.src='{% static 'img/placeholder_album.jpg' %}'">
          {% else %}
            <img src="{% static 'img/placeholder_album.jpg' %}" alt="No album art">
          {% endif %}
        </div>

        <!-- Album Info -->
        <div class="album-info">
          <h1>{{ album.title|default:"Demo Album" }}</h1>
          <p class="artist-line">
            by 
            <a href="{% url 'tabs:artist_detail' album.artist.name_cleaned %}">
              {{ album.artist.name|default:"Unknown Artist" }}
            </a>
          </p>
          <p class="release-year">
            Released {{ album.release_year|default:"2025" }}
          </p>

          <p class="song-count">
            {{ songs|length|default:5 }} Tab{{ songs|length|pluralize }}
          </p>

          <a href="#" class="watch-btn">Watch Playlist</a>
        </div>
      </div>
    </div>

    <!-- Tracklist -->
    <div class="tracklist-card">
      <h2>Tracklist</h2>
      <div class="tracklist">
        {% if songs %}
          {% for song in songs %}
            <div class="track-item">
              <div class="track-info">
                <div class="track-num">{{ song.track_num|default:forloop.counter }}</div>
                <div>
                  <h3>
                    <a href="{% url 'tabs:song_detail' song.artist.name_cleaned song.album.title_cleaned song.title_cleaned %}">
                      {{ song.title|default:"Demo Song" }}
                    </a>
                  </h3>
                  <p class="duration">{{ song.duration|default:"3:45" }}</p>
                </div>
              </div>
              <div class="track-meta">
                <span class="tuning">{{ song.tuning|default:"E Standard" }}</span>
              </div>
            </div>
          {% endfor %}
        {% else %}
          {% for i in "12345" %}
            <div class="track-item">
              <div class="track-info">
                <div class="track-num">{{ i }}</div>
                <div>
                  <h3>Demo Song {{ i }}</h3>
                  <p class="duration">3:4{{ i }}</p>
                </div>
              </div>
              <div class="track-meta">
                <span class="tuning">E Standard</span>
              </div>
            </div>
          {% endfor %}
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
