{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
{{ block.super }}
{% endblock %}

{% block content %}
<div class="artist-container">
    <div class="artist-wrapper">

        
        <div class="artist-header">
            <div class="artist-header-grid">

                
                <div class="artist-image">
                    {{ artist.name|upper|slice:":6" }}
                </div>

                
                <div class="artist-info">
                    <h1 class="artist-name">{{ artist.name }}</h1>
                    <div class="artist-stats">
                        <div class="stat-card">
                            <div class="stat-number">{{ artist.num_tabs }}</div>
                            <div class="stat-label">Tab{{ artist.num_tabs|pluralize }}</div>
                        </div>
                        <div class="stat-card purple">
                            <div class="stat-number">{{ albums.count }}</div>
                            <div class="stat-label">Album{{ albums.count|pluralize }}</div>
                <div>
                    <h1 class="artist-name">{{ artist.name }}</h1>
                    <div class="artist-stats">
                        <div class="stat-card">
                            <div class="stat-number">{{ artist.num_tabs }}</div>
                            <div class="stat-label">Tab{{ artist.num_tabs|pluralize }}</div>
                        </div>
                        <div class="stat-card purple">
                            <div class="stat-number">{{ albums.count }}</div>
                            <div class="stat-label">Album{{ albums.count|pluralize }}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        {% if albums %}
        <div class="albums-section">
            <h2 class="section-title">Albums</h2>
            <div class="album-grid">
                {% for album in albums %}
                <div class="album-card">
                    <div class="album-cover">{{ album.title|upper|slice:":8" }}</div>
                    <div class="album-info">
                        <h3 class="album-title">
                            <a href="{% url 'tabs:album_detail' artist.name_cleaned album.title_cleaned %}">
                                {{ album.title }}
                            </a>
                        </h3>
                        <p class="album-year">{{ album.release_year }}</p>
                        <p class="album-tabs">{{ album.song_count }} tab{{ album.song_count|pluralize }}</p>
                        {% if album.is_complete %}
                        <span class="album-status">Complete</span>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        
        {% if songs %}
        <div class="songs-section">
            <h2 class="section-title">Tabs</h2>
            <div class="song-grid">
                {% for song in songs %}
                <a href="{% url 'tabs:song_detail' song.artist.name_cleaned song.album.title_cleaned song.title_cleaned %}" class="song-card">
                    <div class="song-cover">{{ song.artist.name|upper|slice:":6" }}</div>

                    {% if song.difficulty %}
                    <div class="difficulty-banner diff-{{ song.difficulty }}">
                        <span class="difficulty-number">{{ song.difficulty }}</span>
                    </div>
                    {% endif %}

                    <div class="song-info">
                        <h3 class="song-title">
                            {{ song.title }}
                            {% if song.artist_verified %}
                            <svg class="verified-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                      clip-rule="evenodd"></path>
                            </svg>
                            {% endif %}
                        </h3>
                        <p class="song-album">{{ song.album.title }}</p>
                        <p class="song-tuning">Tuning: {{ song.tuning|default:"E Standard" }}</p>
                        {% if song.difficulty %}
                        <p class="song-difficulty">Difficulty: {{ song.difficulty }}/4</p>
                        {% endif %}
                        <div class="song-footer">
                            <span class="song-date">{{ song.date_added|date:"M d, Y" }}</span>
                            <span class="song-status">
                                {% if song.artist_verified %}Verified{% else %}Completed{% endif %}
                            </span>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
